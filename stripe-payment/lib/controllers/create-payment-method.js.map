{"version":3,"file":"create-payment-method.js","names":["successResponse","errorResponse","Stripe","stripe","createPaymentMethod","req","res","paymentMethod","paymentMethods","create","type","card","token","customerId","attach","id","customer","error","message"],"sources":["../../src/controllers/create-payment-method.js"],"sourcesContent":["import { successResponse, errorResponse } from \"../utils/response.js\";\nimport Stripe from 'stripe';\n\nconst stripe = new Stripe(\"sk_test_51OHMnlSD010bwSLtbxEWBTJYuThpDaWOA6vi3tf7nfBsu6fAVy7magTCmrrw1KNFXLD6k4cGuW6BGly0e8Y4mlfF00yNKUnfCv\");\n\nexport const createPaymentMethod = async (req, res) => {\n    try {\n        const paymentMethod = await stripe.paymentMethods.create({\n            type: \"card\",\n            card: {\n                token: \"tok_1OixS7SD010bwSLtukpt3DnU\",\n            },\n        });\n\n        const customerId = \"cus_PY21lMxQ0BUrKS\";\n\n        await stripe.paymentMethods.attach(paymentMethod.id, {\n            customer: customerId,\n        });\n\n        return successResponse(res, 200, \"Payment method created\", paymentMethod);\n    } catch (error) {\n        return errorResponse(res, 500, \"Failed to create payment method\", { error: error.message });\n    }\n};"],"mappings":"AAAA,SAASA,eAAe,EAAEC,aAAa,QAAQ,sBAAsB;AACrE,OAAOC,MAAM,MAAM,QAAQ;AAE3B,MAAMC,MAAM,GAAG,IAAID,MAAM,CAAC,6GAA6G,CAAC;AAExI,OAAO,MAAME,mBAAmB,GAAG,MAAAA,CAAOC,GAAG,EAAEC,GAAG,KAAK;EACnD,IAAI;IACA,MAAMC,aAAa,GAAG,MAAMJ,MAAM,CAACK,cAAc,CAACC,MAAM,CAAC;MACrDC,IAAI,EAAE,MAAM;MACZC,IAAI,EAAE;QACFC,KAAK,EAAE;MACX;IACJ,CAAC,CAAC;IAEF,MAAMC,UAAU,GAAG,oBAAoB;IAEvC,MAAMV,MAAM,CAACK,cAAc,CAACM,MAAM,CAACP,aAAa,CAACQ,EAAE,EAAE;MACjDC,QAAQ,EAAEH;IACd,CAAC,CAAC;IAEF,OAAOb,eAAe,CAACM,GAAG,EAAE,GAAG,EAAE,wBAAwB,EAAEC,aAAa,CAAC;EAC7E,CAAC,CAAC,OAAOU,KAAK,EAAE;IACZ,OAAOhB,aAAa,CAACK,GAAG,EAAE,GAAG,EAAE,iCAAiC,EAAE;MAAEW,KAAK,EAAEA,KAAK,CAACC;IAAQ,CAAC,CAAC;EAC/F;AACJ,CAAC"}