{"version":3,"file":"create-checkout-session.js","names":["successResponse","errorResponse","Stripe","stripe","createSession","req","res","session","checkout","sessions","create","payment_method_types","line_items","price_data","currency","product_data","name","unit_amount","quantity","mode","success_url","cancel_url","sessionId","id","session_id","error","message"],"sources":["../../src/controllers/create-checkout-session.js"],"sourcesContent":["import { successResponse, errorResponse } from \"../utils/response.js\";\nimport Stripe from 'stripe';\n\nconst stripe = new Stripe(\"sk_test_51OHMnlSD010bwSLtbxEWBTJYuThpDaWOA6vi3tf7nfBsu6fAVy7magTCmrrw1KNFXLD6k4cGuW6BGly0e8Y4mlfF00yNKUnfCv\");\n\nexport const createSession = async (req, res) => {\n    try {\n        const session = await stripe.checkout.sessions.create({\n            payment_method_types: [\"card\"],\n            line_items: [\n                {\n                    price_data: {\n                        currency: 'inr',\n                        product_data: {\n                            name: \"product name\",\n                        },\n                        unit_amount: 1000,\n                    },\n                    quantity: 1,\n                }\n            ],\n            mode: \"payment\",\n            success_url: \"http://localhost:3000/success?session_id={CHECKOUT_SESSION_ID}\",\n            cancel_url: \"http://localhost:3000/cancel\"\n        });\n\n        const sessionId = session.id;\n\n        return successResponse(res, 200, \"Checkout session created\", { session_id: sessionId });;\n    } catch (error) {\n        return errorResponse(res, 500, \"Failed to create checkout session\", { error: error.message });\n    }\n};"],"mappings":"AAAA,SAASA,eAAe,EAAEC,aAAa,QAAQ,sBAAsB;AACrE,OAAOC,MAAM,MAAM,QAAQ;AAE3B,MAAMC,MAAM,GAAG,IAAID,MAAM,CAAC,6GAA6G,CAAC;AAExI,OAAO,MAAME,aAAa,GAAG,MAAAA,CAAOC,GAAG,EAAEC,GAAG,KAAK;EAC7C,IAAI;IACA,MAAMC,OAAO,GAAG,MAAMJ,MAAM,CAACK,QAAQ,CAACC,QAAQ,CAACC,MAAM,CAAC;MAClDC,oBAAoB,EAAE,CAAC,MAAM,CAAC;MAC9BC,UAAU,EAAE,CACR;QACIC,UAAU,EAAE;UACRC,QAAQ,EAAE,KAAK;UACfC,YAAY,EAAE;YACVC,IAAI,EAAE;UACV,CAAC;UACDC,WAAW,EAAE;QACjB,CAAC;QACDC,QAAQ,EAAE;MACd,CAAC,CACJ;MACDC,IAAI,EAAE,SAAS;MACfC,WAAW,EAAE,gEAAgE;MAC7EC,UAAU,EAAE;IAChB,CAAC,CAAC;IAEF,MAAMC,SAAS,GAAGf,OAAO,CAACgB,EAAE;IAE5B,OAAOvB,eAAe,CAACM,GAAG,EAAE,GAAG,EAAE,0BAA0B,EAAE;MAAEkB,UAAU,EAAEF;IAAU,CAAC,CAAC;IAAC;EAC5F,CAAC,CAAC,OAAOG,KAAK,EAAE;IACZ,OAAOxB,aAAa,CAACK,GAAG,EAAE,GAAG,EAAE,mCAAmC,EAAE;MAAEmB,KAAK,EAAEA,KAAK,CAACC;IAAQ,CAAC,CAAC;EACjG;AACJ,CAAC"}