{"version":3,"file":"make-payment.js","names":["successResponse","errorResponse","Stripe","stripe","makePayment","req","res","customerId","paymentIntent","paymentIntents","create","amount","currency","payment_method","confirm","customer","automatic_payment_methods","enabled","allow_redirects","return_url","error","message"],"sources":["../../src/controllers/make-payment.js"],"sourcesContent":["import { successResponse, errorResponse } from \"../utils/response.js\";\nimport Stripe from 'stripe';\n\nconst stripe = new Stripe(\"sk_test_51OHMnlSD010bwSLtbxEWBTJYuThpDaWOA6vi3tf7nfBsu6fAVy7magTCmrrw1KNFXLD6k4cGuW6BGly0e8Y4mlfF00yNKUnfCv\");\n\nexport const makePayment = async (req, res) => {\n    try {\n        const customerId = \"cus_PY21lMxQ0BUrKS\";\n\n        const paymentIntent = await stripe.paymentIntents.create({\n            amount: 4000,\n            currency: \"usd\",\n            payment_method: \"pm_1OixSVSD010bwSLtXkeSIdln\",\n            confirm: true,\n            customer: customerId,\n            automatic_payment_methods: {\n                enabled: true,\n                allow_redirects: \"never\"\n            },\n            return_url: \"https://localhost:3000/success\"\n        });\n\n        return successResponse(res, 200, \"Payment made\", paymentIntent);\n    } catch (error) {\n        return errorResponse(res, 500, \"Failed to made payment\", { error: error.message });\n    }\n};"],"mappings":"AAAA,SAASA,eAAe,EAAEC,aAAa,QAAQ,sBAAsB;AACrE,OAAOC,MAAM,MAAM,QAAQ;AAE3B,MAAMC,MAAM,GAAG,IAAID,MAAM,CAAC,6GAA6G,CAAC;AAExI,OAAO,MAAME,WAAW,GAAG,MAAAA,CAAOC,GAAG,EAAEC,GAAG,KAAK;EAC3C,IAAI;IACA,MAAMC,UAAU,GAAG,oBAAoB;IAEvC,MAAMC,aAAa,GAAG,MAAML,MAAM,CAACM,cAAc,CAACC,MAAM,CAAC;MACrDC,MAAM,EAAE,IAAI;MACZC,QAAQ,EAAE,KAAK;MACfC,cAAc,EAAE,6BAA6B;MAC7CC,OAAO,EAAE,IAAI;MACbC,QAAQ,EAAER,UAAU;MACpBS,yBAAyB,EAAE;QACvBC,OAAO,EAAE,IAAI;QACbC,eAAe,EAAE;MACrB,CAAC;MACDC,UAAU,EAAE;IAChB,CAAC,CAAC;IAEF,OAAOnB,eAAe,CAACM,GAAG,EAAE,GAAG,EAAE,cAAc,EAAEE,aAAa,CAAC;EACnE,CAAC,CAAC,OAAOY,KAAK,EAAE;IACZ,OAAOnB,aAAa,CAACK,GAAG,EAAE,GAAG,EAAE,wBAAwB,EAAE;MAAEc,KAAK,EAAEA,KAAK,CAACC;IAAQ,CAAC,CAAC;EACtF;AACJ,CAAC"}